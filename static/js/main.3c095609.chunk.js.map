{"version":3,"sources":["components/usuarios/usuarios.jsx","index.js"],"names":["Listar","$","document","ready","mask","reverse","useState","usuarios","setUsuarios","showModal","setShowModal","usuarioSelecionado","setUsuarioSelecionado","useEffect","axios","get","method","then","resp","data","showModalRecibo","setShowModalRecibo","map","u","index","className","src","img","alt","name","id","username","type","onClick","e","i","console","log","style","display","placeholder","value","card_number","cvv","expiry_date","c","substr","preventDefault","selectField","getElementById","valor","paySuccess","payError","post","destination_user_id","innerHTML","validarTransacao","window","location","reload","ReactDOM","render","StrictMode"],"mappings":"2QAsIeA,MA9Hf,WAEIC,IAAEC,UAAUC,OAAM,WACdF,IAAE,UAAUG,KAAK,WAAY,CAACC,SAAS,OAM3C,MAA8BC,mBAAS,IAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAAgCF,oBAAS,GAAzC,mBAAKG,EAAL,KAAgBC,EAAhB,KACA,EAAkDJ,mBAAS,IAA3D,mBAAKK,EAAL,KAAyBC,EAAzB,KAGAC,qBAAU,WACVC,IAAMC,IAAI,mDAAoD,CAC1DC,OAAQ,QAEXC,MAAK,SAACC,GAAUV,EAAYU,EAAKC,WAChC,IAGF,IAwBA,EAA4Cb,oBAAS,GAArD,mBAAKc,EAAL,KAAsBC,EAAtB,KA4BA,OACA,qCACKd,EAASe,KAAI,SAACC,EAAGC,GACd,OAEI,aADA,CACA,OAAKC,UAAU,YAAf,SACI,sBAAKA,UAAU,UAAf,UACI,qBAAKC,IAAKH,EAAEI,IAAKC,IAAI,KACrB,sBAAKH,UAAU,YAAf,UACI,qDAAqBF,EAAEM,QACvB,qCAAQN,EAAEO,GAAV,gBAA2BP,EAAEQ,eAEjC,wBAAQC,KAAK,SAAS,aAAYR,EAAOS,QAAS,SAACC,GAAD,OAhEhDC,EAgEsEX,EA/DxFY,QAAQC,IAAIF,GACZvB,EAAsBL,EAAS4B,SAC/BzB,GAAa,GAHC,IAAIyB,GAgEF,uBAPwB,OAAOX,MAa/C,qBAAKC,UAAU,mBAAmBa,MAAO,CAACC,QAAU9B,EAAY,QAAU,QAAUwB,QAAS,WAAOvB,GAAa,GAAQW,OAGzH,sBAAKI,UAAU,gBAAgBa,MAAO,CAACC,QAAU9B,EAAY,QAAU,QAAvE,UACI,qBAAKgB,UAAU,cAAf,SACI,gDAAkB,iCAAOd,EAAmBkB,KAA1B,YAEtB,sBAAKJ,UAAU,eAAf,UACI,uBAAOK,GAAG,QAAQE,KAAK,OAAOQ,YAAY,YAC1C,yBAAQV,GAAG,cAAX,UACI,wBAAQW,MAAM,mBAAd,oCAzEJ,CAER,CACEC,YAAa,mBACbC,IAAK,IACLC,YAAa,SAGf,CACEF,YAAa,mBACbC,IAAK,IACLC,YAAa,UA+DItB,KAAI,SAACuB,EAAGrB,GAAJ,OACP,yBAAoBiB,MAAO,OAAOjB,EAAlC,mCAA6DqB,EAAEH,YAAYI,QAAQ,KAAtEtB,SAGrB,wBAAQQ,KAAK,SAASC,QAAS,SAACC,GAAD,OA5DpB,SAACA,GACpBA,EAAEa,iBACF,IAAIC,EAAc9C,SAAS+C,eAAe,eAAeR,MACrDS,EAAQhD,SAAS+C,eAAe,SAASR,MACzCU,EAAajD,SAAS+C,eAAe,cACrCG,EAAWlD,SAAS+C,eAAe,YACpB,UAAhBD,GACClC,IAAMuC,KAAK,+DAAgE,CAEvEX,YAAa,mBACbC,IAAK,IACLC,YAAa,QAEbU,oBAAqB3C,EAAmBmB,GAExCW,MAAOS,IAEX7B,GAAmB,GACnB+B,EAASG,UAAY,KAGrBlC,GAAmB,GACnB8B,EAAWI,UAAY,IAsCmBC,CAAiBtB,IAAvD,yBAIR,sBAAKT,UAAU,gBAAgBa,MAAO,CAACC,QAAUnB,EAAkB,QAAU,QAA7E,UAEI,qBAAKK,UAAU,cAAf,SACI,sDAEJ,sBAAKA,UAAU,oBAAf,UACI,mBAAGK,GAAG,aAAN,uDACA,mBAAGA,GAAG,WAAN,8DACA,wBAAQG,QAlHpB,WACIwB,OAAOC,SAASC,UAiHR,8BC1HhBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5D,SAAS+C,eAAe,W","file":"static/js/main.3c095609.chunk.js","sourcesContent":["import React from 'react';\r\nimport './usuarios.css'\r\nimport axios from 'axios'\r\nimport {useState, useEffect} from 'react'\r\nimport $ from 'jquery';\r\nimport 'jquery-mask-plugin/dist/jquery.mask.min.js';\r\n\r\n//função para listar realizar o GET e listar os usuarios\r\nfunction Listar() {\r\n\r\n    $(document).ready(function(){\r\n        $('#valor').mask('#.##0,00', {reverse: true});\r\n    });\r\n    function reload(){\r\n        window.location.reload();\r\n    }\r\n    //variavel que está alocando os usuarios\r\n    let [usuarios, setUsuarios] = useState([]);\r\n    let [showModal, setShowModal] = useState(false);\r\n    let [usuarioSelecionado, setUsuarioSelecionado] = useState({})\r\n\r\n    //relizando GET do mocky\r\n    useEffect(() => {\r\n    axios.get('https://www.mocky.io/v2/5d531c4f2e0000620081ddce', {\r\n        method: \"GET\",\r\n    })\r\n    .then((resp) => {setUsuarios(resp.data)})\r\n    },[])\r\n    \r\n    //variavel responsavel por realizar a chamada da modal\"\r\n    let mostraModal = (e, i) => {\r\n        console.log(i);\r\n        setUsuarioSelecionado(usuarios[i]);\r\n        setShowModal(true);\r\n    }\r\n\r\n    //variavel reponsavel pelo array dos cartões\r\n    let cards = [\r\n        // valid card\r\n        {\r\n          card_number: '1111111111111111',\r\n          cvv: 789,\r\n          expiry_date: '01/18',\r\n        },\r\n        // invalid card\r\n        {\r\n          card_number: '4111111111111234',\r\n          cvv: 123,\r\n          expiry_date: '01/20',\r\n        },\r\n    ];\r\n    // variavel responsavel por realizar a validação dos cartãos. Se for válido realiza o POST, \r\n    //e mostra a mensagem de pagamento concluido junto com o modal. \r\n    //Se for invalido ele mostra a mensagem de pagamento nao concluido no modal. \r\n    let [showModalRecibo, setShowModalRecibo] = useState(false);\r\n    let validarTransacao = (e) => {\r\n        e.preventDefault();\r\n        let selectField = document.getElementById(\"selectCards\").value;\r\n        let valor = document.getElementById(\"valor\").value;\r\n        let paySuccess = document.getElementById(\"paySuccess\");\r\n        let payError = document.getElementById(\"payError\");\r\n        if(selectField === \"card0\"){\r\n            axios.post('https://run.mocky.io/v3/533cd5d7-63d3-4488-bf8d-4bb8c751c989', {\r\n                // card information\r\n                card_number: \"1111111111111111\",\r\n                cvv: 789,\r\n                expiry_date: '01/18',\r\n                // Destination User ID\r\n                destination_user_id: usuarioSelecionado.id,\r\n                // Value of the Transaction\r\n                value: valor\r\n            })\r\n            setShowModalRecibo(true);\r\n            payError.innerHTML = \"\";\r\n        }\r\n        else{\r\n            setShowModalRecibo(true);\r\n            paySuccess.innerHTML = \"\";\r\n        }\r\n    }\r\n\r\n    //return responsavel por realizar o map dos usuarios, através de um map\r\n    return (\r\n    <>\r\n        {usuarios.map((u, index) => {\r\n            return (\r\n                //div container responsavel pela estrutura e estilização dos dados que serão mostrados na página\r\n                <div className=\"container\" key={\"user\"+index}>\r\n                    <div className=\"content\">\r\n                        <img src={u.img} alt=\"\"></img>\r\n                        <div className=\"text-user\">\r\n                            <p>Nome do usuário: {u.name}</p>\r\n                            <p>ID: {u.id} - Username: {u.username}</p>\r\n                        </div>\r\n                        <button type=\"button\" data-index={index} onClick={(e) => mostraModal(e, index)}>Pagar</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })}\r\n        {/*Div responsavel por realizar o fechamento do modal, ao clicar fora da area do modal*/}\r\n        <div className=\"background-modal\" style={{display: (showModal ? 'block' : 'none')}} onClick={() => {setShowModal(false); setShowModalRecibo();}}>\r\n        </div>\r\n        {/*div que contem o modal e todos os seus elementos (input,select,p,button)*/}\r\n        <div className=\"modal-content\" style={{display: (showModal ? 'block' : 'none')}}>\r\n            <div className=\"modal-title\">\r\n                <p>Pagamento para <span>{usuarioSelecionado.name} </span></p>\r\n            </div>\r\n            <div className=\"content-form\">\r\n                <input id=\"valor\" type=\"text\" placeholder=\"R$ 0,00\"></input>\r\n                <select id=\"selectCards\">\r\n                    <option value=\"selecionarCartao\">Selecionar o cartão</option>\r\n                    {cards.map((c, index) => \r\n                        <option key={index} value={\"card\"+index}>Cartão com o final {c.card_number.substr(-4)}</option>\r\n                    )}\r\n                </select>\r\n                <button type=\"button\" onClick={(e) => validarTransacao(e)}>Pagar</button>\r\n            </div>\r\n        </div>\r\n        {/*div responsavel por mostrar o modal de pagamento concluido ou pagamento nao concluido*/}\r\n        <div className=\"modal-content\" style={{display: (showModalRecibo ? 'block' : 'none')}}>\r\n            \r\n            <div className=\"modal-title\">\r\n                <p>Recibo de pagamento</p>\r\n            </div>\r\n            <div className=\"content-modal-pay\">\r\n                <p id=\"paySuccess\">O pagamento foi concluído com sucesso!</p>\r\n                <p id=\"payError\">O pagamento não foi concluído com sucesso!</p>\r\n                <button onClick={reload}>Fechar</button>\r\n            </div>\r\n            \r\n        </div>\r\n    </>\r\n    )\r\n}\r\nexport default Listar;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Listar from './components/usuarios/usuarios';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Listar />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}